<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>For Zaynab ‚Äî From Humayun</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#ff7ab6;--muted:#98a0b3}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial}
    body{background: radial-gradient(1200px 600px at 10% 10%, rgba(255,122,182,0.07), transparent),
          radial-gradient(900px 400px at 90% 90%, rgba(120,101,255,0.04), transparent),
          var(--bg);color:#e6eef8}
    .container{max-width:960px;margin:40px auto;padding:24px}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:64px;height:64px;border-radius:14px;background:linear-gradient(135deg,var(--accent),#7c7fff);display:flex;align-items:center;justify-content:center;font-weight:700;color:#081124;font-size:20px;box-shadow:0 8px 30px rgba(0,0,0,0.6)}
    h1{font-size:20px;margin:0}
    p.lead{margin:0;color:var(--muted)}

    main{display:grid;grid-template-columns:1fr 360px;gap:20px;margin-top:26px}

    .card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(0,0,0,0.02));padding:18px;border-radius:14px;box-shadow:0 6px 20px rgba(2,6,23,0.6)}
    .letters{min-height:320px}
    .letter{background:rgba(255,255,255,0.02);padding:14px;border-radius:10px;margin-bottom:12px}
    .letter h3{margin:0 0 8px 0}
    .empty{color:var(--muted);padding:40px;text-align:center}

    form .row{display:flex;gap:8px}
    input[type=text],textarea{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:inherit}
    textarea{min-height:120px;resize:vertical}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:10px;border:none;cursor:pointer;background:linear-gradient(90deg,var(--accent),#7c7fff);color:#081124;font-weight:600}
    .muted{color:var(--muted);font-size:13px}

    .rightCol{position:sticky;top:30px}
    .music-controls{display:flex;align-items:center;gap:8px}
    .small{font-size:13px}
    .gallery{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
    .gallery img{width:72px;height:72px;object-fit:cover;border-radius:8px;border:2px solid rgba(255,255,255,0.03)}

    footer{margin-top:22px;text-align:center;color:var(--muted);font-size:13px}

    /* modal */
    .modal-bg{position:fixed;inset:0;background:linear-gradient(180deg,rgba(2,6,23,0.6),rgba(2,6,23,0.8));display:flex;align-items:center;justify-content:center;z-index:60}
    .modal{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(0,0,0,0.02));padding:28px;border-radius:18px;max-width:520px;width:92%;text-align:center;box-shadow:0 30px 80px rgba(2,6,23,0.8)}
    .heart{font-size:38px;margin:8px 0;display:block}
    .pulse{animation:pulse 1.2s infinite}
    @keyframes pulse{0%{transform:scale(0.98);opacity:0.9}50%{transform:scale(1.06);opacity:1}100%{transform:scale(0.98);opacity:0.9}}

    @media (max-width:880px){main{grid-template-columns:1fr} .rightCol{position:static}}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo">H & Z</div>
        <div>
          <h1>For Zaynab ‚Äî from Humayun</h1>
          <p class="lead">A small corner where I save letters, photos and sweet little surprises for you.</p>
        </div>
      </div>
      <div class="small muted">Made with ‚ô• ‚Äî private, light & easy</div>
    </header>

    <main>
      <section>
        <div class="card letters">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
            <strong>Your Letters</strong>
            <div class="muted">Days together: <span id="daysCount">0</span></div>
          </div>

          <div id="lettersList"></div>

          <div id="noLetters" class="empty">No letters yet. Write the first one ‚Äî she will love it.</div>

          <hr style="border:none;height:1px;background:rgba(255,255,255,0.03);margin:16px 0">

          <form id="letterForm">
            <input type="text" id="title" placeholder="Short title (e.g. A small note)" />
            <textarea id="body" placeholder="Write your letter here..."></textarea>
            <div style="display:flex;gap:8px;align-items:center;justify-content:space-between">
              <div class="muted small">Letters are saved locally on this device.</div>
              <div>
                <button type="submit" class="btn">Save Letter</button>
              </div>
            </div>
          </form>
        </div>
      </section>

      <aside class="rightCol">
        <div class="card">
          <strong>Music & Moments</strong>
          <p class="muted small">Add a soft track that plays while she reads (autoplay may be blocked by browsers ‚Äî press play).</p>

          <div style="margin-top:12px">
            <!-- Replace music.mp3 with your file or a hosted mp3 URL. Use a gentle piano or instrumental (not Bruno Major). -->
            <audio id="music" preload="none" loop>
              <source src="major.mp3" type="audio/mpeg">
              Your browser does not support the audio element.
            </audio>

            <div class="music-controls">
              <button id="playBtn" class="btn">Play ‚ñ∂</button>
              <button id="pauseBtn" class="btn" style="display:none;">Pause ‚ùö‚ùö</button>
              <button id="muteBtn" class="btn">Mute üîà</button>
            </div>
          </div>

          <hr style="border:none;height:1px;background:rgba(255,255,255,0.03);margin:12px 0">

          <strong>Photo Gallery</strong>
          <p class="muted small">Upload photos to show here.</p>
          <input id="photoInput" type="file" accept="image/*" multiple style="margin-top:8px" />
          <div class="gallery" id="gallery"></div>
        </div>

        <div style="height:12px"></div>
        <div class="card">
          <strong>Quick Actions</strong>
          <p class="muted small">A few helpful buttons.</p>
          <div style="display:flex;gap:8px;margin-top:10px;flex-wrap:wrap">
            <button id="clearBtn" class="btn">Clear Letters</button>
            <button id="downloadBtn" class="btn">Download All (json)</button>
          </div>
        </div>
      </aside>
    </main>

    <footer>
      Tip: To make the site private, keep the files on your computer and open the file only when you want to show it ‚Äî or host on a password-protected page.
    </footer>
  </div>

  <!-- Modal that shows on load -->
  <div id="welcomeModal" class="modal-bg" style="display:none">
    <div class="modal">
      <div style="font-size:16px;color:var(--muted)">Hello, beautiful</div>
      <div class="heart pulse">‚ù§Ô∏è</div>
      <h2 style="margin:6px 0 10px 0">Humayun &amp; Zaynab</h2>
      <p class="muted">Zaynab ‚Äî I made this little place so I can keep writing things that make you smile. You are the best part of my days ‚Äî I'm so happy we started this together. ‚Äî <strong>Humayun</strong></p>
      <div style="margin-top:18px">
        <button id="openBtn" class="btn">Open my gift</button>
      </div>
    </div>
  </div>

  <script>
    // --- configuration ---
    // Relationship start date (you said you started dating yesterday). If you want to change it, edit the date below (YYYY-MM-DD).
    const startDate = new Date('2025-08-09');

    // DOM refs
    const lettersList = document.getElementById('lettersList');
    const noLetters = document.getElementById('noLetters');
    const letterForm = document.getElementById('letterForm');
    const titleInp = document.getElementById('title');
    const bodyInp = document.getElementById('body');
    const daysCount = document.getElementById('daysCount');
    const music = document.getElementById('music');
    const playBtn = document.getElementById('playBtn');
    const pauseBtn = document.getElementById('pauseBtn');
    const muteBtn = document.getElementById('muteBtn');
    const photoInput = document.getElementById('photoInput');
    const gallery = document.getElementById('gallery');
    const clearBtn = document.getElementById('clearBtn');
    const downloadBtn = document.getElementById('downloadBtn');

    // simple storage helpers (localStorage)
    function loadLetters(){
      try{ return JSON.parse(localStorage.getItem('hz_letters')||'[]') }catch(e){return[]}
    }
    function saveLetters(arr){ localStorage.setItem('hz_letters', JSON.stringify(arr)) }

    function renderLetters(){
      const arr = loadLetters();
      lettersList.innerHTML='';
      if(!arr.length){ noLetters.style.display='block'; return }
      noLetters.style.display='none';
      arr.slice().reverse().forEach((l,idx)=>{
        const el = document.createElement('div'); el.className='letter';
        el.innerHTML = `<h3>${escapeHtml(l.title||'Untitled')}</h3><div class="muted small">${new Date(l.created).toLocaleString()}</div><p style="margin-top:8px;white-space:pre-wrap">${escapeHtml(l.body)}</p>`;
        lettersList.appendChild(el);
      })
    }

    function escapeHtml(s){ return (s||'').replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;') }

    letterForm.addEventListener('submit', e=>{
      e.preventDefault();
      const title = titleInp.value.trim();
      const body = bodyInp.value.trim();
      if(!body){ alert('Write something sweet for her ‚Äî even one line is perfect.'); return }
      const arr = loadLetters();
      arr.push({title,body,created:new Date().toISOString()});
      saveLetters(arr);
      titleInp.value=''; bodyInp.value=''; renderLetters();
    })

    // days counter
    function updateDays(){
      const now = new Date();
      const ms = now - startDate;
      const days = Math.floor(ms / (1000*60*60*24));
      daysCount.textContent = days >= 0 ? days : 0;
    }
    updateDays(); setInterval(updateDays, 60*1000);

    // music controls
    playBtn.addEventListener('click', async ()=>{
      try{ await music.play(); playBtn.style.display='none'; pauseBtn.style.display='inline-flex' }catch(e){ alert('Autoplay blocked. Press play on the small audio bar or allow sound for this page.') }
    })
    pauseBtn.addEventListener('click', ()=>{ music.pause(); pauseBtn.style.display='none'; playBtn.style.display='inline-flex' })
    muteBtn.addEventListener('click', ()=>{
      music.muted = !music.muted; muteBtn.textContent = music.muted ? 'Unmute üîá' : 'Mute üîà';
    })

    // gallery
    photoInput.addEventListener('change', e=>{
      const files = Array.from(e.target.files);
      files.forEach(f=>{
        const reader = new FileReader();
        reader.onload = ev=>{
          const img = document.createElement('img'); img.src = ev.target.result; gallery.appendChild(img);
          // save to localStorage (optional)
          const saved = JSON.parse(localStorage.getItem('hz_photos')||'[]'); saved.push(ev.target.result); localStorage.setItem('hz_photos', JSON.stringify(saved));
        }
        reader.readAsDataURL(f);
      })
    })

    // load saved photos
    function loadPhotos(){
      try{ const arr = JSON.parse(localStorage.getItem('hz_photos')||'[]'); arr.forEach(src=>{ const img=document.createElement('img'); img.src=src; gallery.appendChild(img) }) }catch(e){}
    }

    clearBtn.addEventListener('click', ()=>{
      if(!confirm('Clear all saved letters? This cannot be undone.')) return;
      localStorage.removeItem('hz_letters'); renderLetters();
    })

    downloadBtn.addEventListener('click', ()=>{
      const letters = loadLetters();
      const blob = new Blob([JSON.stringify(letters,null,2)],{type:'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href=url; a.download='letters.json'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
    })

    // load initial
    renderLetters(); loadPhotos();

    // welcome modal logic
    const welcomeModal = document.getElementById('welcomeModal');
    const openBtn = document.getElementById('openBtn');

    // show modal once per browser (you can remove storage key to show again)
    if(!localStorage.getItem('hz_modal_shown')){
      welcomeModal.style.display='flex';
    }
    openBtn.addEventListener('click', ()=>{ welcomeModal.style.display='none'; localStorage.setItem('hz_modal_shown','1'); });

    // small accessibility: close modal on ESC
    document.addEventListener('keydown', e=>{ if(e.key==='Escape') welcomeModal.style.display='none' });

    // end script
  </script>
</body>
</html>
